;-------------------------------------------------
;éBâe
;-------------------------------------------------
@COM446

PRINTL âΩèàÇî`Ç´Ç‹Ç∑Ç©ÅH
FOR LOCAL,0,MAXROOM()
	IF CAN_MOVE(CFLAG:MASTER:åªç›à íu,LOCAL)
		FOR LOCAL:2,1,CHARANUM
			SIF CFLAG:(LOCAL:2):åªç›à íu == LOCAL
				SETCOLOR 0 , 255, 255
		NEXT
		PRINTFORM [{LOCAL}] - 
		PRINTS GETPLACENAME(LOCAL)
		PRINTL
		RESETCOLOR
	ENDIF
NEXT
PRINTL [900] - ñﬂÇÈ
$INPUT_LOOP
INPUT
LOCAL:1 = RESULT
SIF LOCAL:1 == 900
	RETURN 0

IF CAN_MOVE(CFLAG:MASTER:åªç›à íu,LOCAL:1)
	CALL PEEP(LOCAL:1)
	TIME += 3
ELSE
	CLEARLINE 1
	GOTO INPUT_LOOP

ENDIF


RETURN 1

@PEEP(ARG)
VARSET LOCAL
IF FLAG:(300 + ARG) && !HAS_DUPLICATE_KEY(ARG)
	PRINTL åÆÇ™Ç©Ç©Ç¡ÇƒÇ¢ÇΩ••••••
	RETURN 0
ENDIF

FOR LOCAL ,1 , CHARANUM
	SIF ITEM:44 < 1
		RETURN 0
	IF CFLAG:LOCAL:åªç›à íu == ARG
		LOCAL:1++
		LOCAL:2 = CHOOSE_PHOTO(LOCAL,ARG)
		PRINTFORML %CALLNAME:LOCAL%ÇÃ%PHOTO_NAME(LOCAL:2)%ÇéBâeÇµÇΩ
		TSTR:3 = %CALLNAME:LOCAL%{LOCAL:2}PH/
		CSTR:MASTER:12 += TSTR:3
		ITEM:44--
	ENDIF
NEXT
IF !LOCAL:1
	PRINTL íNÇ‡Ç¢Ç»Ç©Ç¡ÇΩ••••••
	RETURN 0
ENDIF

RETURN 1


@PHOTO_NAME(ARG)
#FUNCTIONS
SELECTCASE ARG
	CASE 1
		RETURNF "ïÅíi"
	CASE 2
		RETURNF "Ç®íÖë÷Ç¶"
	CASE 3
		RETURNF "ì¸óÅ"
	CASE 4
		RETURNF "êQäÁ"
	CASE 5
		RETURNF "Ç®óøóùép"
	CASE 6
		RETURNF "ãèñ∞ÇË"
	CASE 7
		RETURNF "ì«èëép"
	CASE 8
		RETURNF "Ç®ÉgÉCÉåép"
	CASE 9
		RETURNF "ÉLÉXép"
	CASE 10
		RETURNF "à§ïèép"
	CASE 11
		RETURNF "ãπà§ïèép"
	CASE 12
		RETURNF "ÉtÉFÉâép"
	CASE 13
		RETURNF "ÇUÇXép"
	CASE 14
		RETURNF "ëfå“ép"
	CASE 15
		RETURNF "ÉZÉbÉNÉXép"
	CASE 16
		RETURNF "ÉAÉiÉãÉZÉbÉNÉXép"
ENDSELECT


@CHOOSE_PHOTO(ARG,ARG:1)
#FUNCTION
;ARG ÉLÉÉÉâî‘çÜ ARG:1 à íuî‘çÜ

IF CFLAG:ARG:åªç›à íu == FLAG:ñKñ‚é“ÇÃåªç›à íu && FLAG:ñKñ‚é“Ç∆ÇÃçsà◊ != 0
	SELECTCASE FLAG:ñKñ‚é“Ç∆ÇÃçsà◊
		CASE 1
			RETURNF 9
		CASE 2
			RETURNF 10
		CASE 3
			RETURNF 11
		CASE 4
			RETURNF 12
		CASE 5
			RETURNF 13
		CASE 6
			RETURNF 14
		CASE 7,8,9,10,11,12,13
			RETURNF 15
		CASE 14,15,16,17,18,19,20
			RETURNF 16
	ENDSELECT
ENDIF
SELECTCASE ARG:1
	CASE 7
		RETURNF 5
	CASE 10
		SIF ARG == 7 && CFLAG:(ARG):êáñ∞
			RETURNF 4
		SIF ARG == 7 && RAND(2) == 1
			RETURNF 2
		RETURNF 1
	CASE 11
		SIF ARG == 6 && CFLAG:(ARG):êáñ∞
			RETURNF 4
		SIF ARG == 6 && RAND(2) == 1
			RETURNF 2
		RETURNF 1
	CASE 12
		SIF ARG == 8 && CFLAG:(ARG):êáñ∞
			RETURNF 4
		SIF ARG == 8 && RAND(2) == 1
			RETURNF 2
		RETURNF 1
	CASE 13
		SIF ARG == 5 && CFLAG:(ARG):êáñ∞
			RETURNF 4
		SIF ARG == 5 && RAND(2) == 1
			RETURNF 2
		RETURNF 1
	CASE 14
		SIF RAND(2) == 1
			RETURNF 7
		RETURNF 1
	CASE 15
		RETURNF 3
	CASE 18
		RETURNF 8
	CASE 19
		RETURNF 8
	CASE 21
		RETURNF 8
	CASE 22
		RETURNF 3
	CASE 33
		SIF ARG == 4 && CFLAG:(ARG):êáñ∞
			RETURNF 4
		SIF ARG == 4 && RAND(2) == 1
			RETURNF 2
		RETURNF 1
	CASE 34
		RETURNF 5
	CASE 35
		RETURNF 3
	CASE 37
		RETURNF 8
	CASE 43
		SIF ARG == 3 && CFLAG:(ARG):êáñ∞
			RETURNF 4
		SIF ARG == 3 && RAND(2) == 1
			RETURNF 2
		RETURNF 1
	CASE 44
		RETURNF 5
	CASE 45
		RETURNF 3
	CASE 47
		RETURNF 8
	CASE 53
		SIF ARG == 2 && CFLAG:(ARG):êáñ∞
			RETURNF 4
		SIF ARG == 2 && RAND(2) == 1
			RETURNF 2
		RETURNF 1
	CASE 54
		RETURNF 5
	CASE 55
		RETURNF 3
	CASE 57
		RETURNF 8
	CASE 63
		SIF ARG == 1 && CFLAG:(ARG):êáñ∞
			RETURNF 4
		SIF ARG == 1 && RAND(2) == 1
			RETURNF 2
		RETURNF 1
	CASE 64
		RETURNF 5
	CASE 65
		RETURNF 3
	CASE 67
		RETURNF 8
;	CASE 73
;		SIF ARG == 4 && CFLAG:(ARG):êáñ∞
;			RETURNF 4
;		SIF ARG == 4 && RAND(2) == 1
;			RETURNF 2
;		RETURNF 1
	CASE 74
		RETURNF 5
	CASE 75
		RETURNF 3
	CASE 77
		RETURNF 8
	CASEELSE
		RETURNF 1
ENDSELECT
