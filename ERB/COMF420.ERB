;-------------------------------------------------
;ƒƒCƒh—d¸‚Æ˜b‚·
;-------------------------------------------------
@COM420
LOCAL:1 = 21
PRINTL ƒ]ƒ“ƒrƒtƒFƒAƒŠ[u‰½‚©‚²‚æ‚¤‚Å‚·‚©Hv
PRINTL [0] - l‚ð’T‚µ‚Ä‚¢‚é
PRINTL [1] - ŠÙ‚Ì‘|œ‚ð‚µ‚½‚¢
PRINTL [2] - l‚ÌŠˆ“®ŽžŠÔ‚ð’m‚è‚½‚¢
PRINTL [100] - –ß‚é
INPUT
IF RESULT == 0
	PRINTL ƒ]ƒ“ƒrƒtƒFƒAƒŠ[u’N‚ð‚¨’T‚µ‚Å‚·‚©Hv
	FOR LOCAL,1,CHARANUM
		PRINTFORM %CALLNAME:LOCAL,15,LEFT%
		LOCALS = %GETPLACENAME(CFLAG:LOCAL:Œ»ÝˆÊ’u)%
		PRINTBUTTON "["+LOCALS+"]", CFLAG:LOCAL:Œ»ÝˆÊ’u
		PRINTFORM %" "*(20-STRLENS(LOCALS))%
		IF CFLAG:LOCAL:‡–°
			PRINTL AQ’†
		ELSE
			PRINTL
		ENDIF
	NEXT
	IF FLAG:N“üŽÒ‚ÌŒ»ÝˆÊ’u
		PRINTFORM %"–‚—¹",15,LEFT%
		LOCALS = %GETPLACENAME(FLAG:N“üŽÒ‚ÌŒ»ÝˆÊ’u)%
		PRINTBUTTON "["+LOCALS+"]", FLAG:N“üŽÒ‚ÌŒ»ÝˆÊ’u
		PRINTFORML %" "*MIN(0,(20-STRLENS(LOCALS)))%
	ENDIF
	PRINTBUTTON "[Šm”FI—¹]", 0
ELSEIF RESULT == 1
	FOR LOCAL,1,(LOCAL:1 + 1)
		LOCALS = %GETPLACENAME(LOCAL)%
		SIF LOCAL == 15
			LOCALS = %CALLNAME:MASTER%Ž„Žº
		PRINTBUTTON "["+LOCALS+"]", LOCAL
		PRINTFORM %" "*(20-STRLENS(LOCALS))%
		LOCALS = %SEIKETU(LOCAL)%
		PRINTFORM %LOCALS,15,RIGHT%     
		RESETCOLOR
		SIF LOCAL % 2 == 0
			PRINTL
	NEXT
	PRINTBUTTON "[Šm”FI—¹]", 0
ELSEIF RESULT == 2
	FOR LOCAL,1,CHARANUM
		LOCALS = %CHARA_KATUDOU(LOCAL)%
		PRINTFORML %CALLNAME:LOCAL,15,LEFT%@%LOCALS%
	NEXT
	PRINTBUTTON "[Šm”FI—¹]", 0
ELSEIF RESULT == 100
	RETURN 0
ENDIF
INPUTS
RESULT = TOINT(RESULTS)
IF RESULT == 0
	REPLACE RESULTS, CALLNAME:MASTER, "%CALLNAME:MASTER%"
	FOR LOCAL, 1, 18
		SIF GETPLACENAME(LOCAL) == RESULTS
			RESULT = LOCAL
	NEXT
ENDIF
IF RESULT > 0 &&  RESULT < (LOCAL:1 + 1)
	NEXTCOM = GETNUM(TRAINNAME, "ˆÚ“®")
	TFLAG:195 = RESULT
ENDIF
RETURN 1

@SEIKETU(ARG)
#FUNCTIONS
SELECTCASE FLAG:(100 + ARG)
	CASE IS < 100
		SETCOLOR 0x39E639
		RETURNF "´Œ‰“x:Å‚"
	CASE IS < 500
		SETCOLOR 0x8EF13C
		RETURNF "´Œ‰“x:‚"
	CASE IS < 1000
		SETCOLOR 0xB9F73E
		RETURNF "´Œ‰“x:‚â‚â‚"
	CASE IS < 2000
		SETCOLOR 0xFFAD40
		RETURNF "´Œ‰“x:’†"
	CASE IS < 3500
		SETCOLOR 0xFF9640
		RETURNF "´Œ‰“x:‚â‚â’á"
	CASE IS < 5000
		SETCOLOR 0xFF7640
		RETURNF "´Œ‰“x:’á"
	CASEELSE
		SETCOLOR 0xFF4040
		RETURNF "´Œ‰“x:ƒSƒ~‚ÌŽR"
ENDSELECT

@CHARA_KATUDOU(ARG)
#FUNCTIONS
SELECTCASE ARG
	;ƒLƒXƒ
	CASE 1
		RETURNF "8Žž`22Žž"
	;ƒ„ƒ}ƒ
	CASE 2
		RETURNF "0Žž` 1ŽžA8Žž`24Žž"
	;ƒpƒ‹ƒXƒB
	CASE 3
		RETURNF "7Žž`23Žž"
	;—E‹V
	CASE 4
		RETURNF "0Žž` 2ŽžA 9Žž`24Žž"
	;‚³‚Æ‚è
	CASE 5
		RETURNF "0Žž` 6ŽžA18Žž`24Žž"
	;—Ó
	CASE 6
		RETURNF "0Žž` 2ŽžA8Žž`24Žž"
	;‹ó
	CASE 7
		RETURNF "9Žž`24Žž"
	;‚±‚¢‚µ
	CASE 8
		RETURNF "0Žž` 3ŽžA7Žž` 24Žž"
ENDSELECT
